<h1>Editing Recipe</h1>

<%= render 'form' %>

<h2>Ingredients</h2>
<ul>
  <% @recipe_ingredients.each do |inc| %>
    <li>
      <%= inc.ingredient %>
    </li>

  <% end %>
</ul>
<h2>Add Ingredients</h2>
<div ng-app="friendlyApp" ng-controller="IngredientsController">

<input ng-model="searchText" class="form-control" uib-typeahead="ingredient as ingredient.name for ingredient in ingredients | filter:{name:$viewValue} | limitTo:8"/>
<table class="table">
  <thead>
    <th>
      Ingredient
    </th>
    <th>
      Add
    </th>
  </thead>
  <tbody>
    <tr ng-repeat="ingredient in ingredients | filter:searchText">
      <td>
        {{ingredient.name}}
      </td>
      <td>
        <%= link_to '+', 'add/{{ingredient.id}}', method: :post %>
      </td>
    </tr>
  </tbody>
</table>


</div>
<%= link_to 'Show', @recipe %> |
<%= link_to 'Back', @recipe, method: :get %>
